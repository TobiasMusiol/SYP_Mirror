(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af4bb96"],{"024e":function(t,e,n){"use strict";n("d20f")},"1c92":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"text-center",attrs:{"fill-height":""}},[n("v-sheet",{staticClass:"mx-auto",attrs:{width:t.$vuetify.breakpoint.smAndUp?"60%":"100%"}},[n("v-form",{ref:"form",attrs:{"lazy-validation":""}},[n("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:t.show?"text":"password","append-icon":t.show?"mdi-eye":"mdi-eye-off",label:"Password",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:function(e){return t.login()}}},[t._v(" Log In ")]),n("v-btn",{attrs:{color:"warning"},on:{click:t.reset}},[t._v(" Reset ")]),n("modal-register-content")],1)],1),n("v-alert")],1)},s=[],a=(n("b0c0"),n("d3b7"),n("5530")),o=n("a078"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[n("div",{staticClass:"mt-5"},[n("a",t._g(t._b({staticClass:"text-decoration-none",attrs:{color:"primary"}},"a",s,!1),i),[t._v("Registrieren")])])]}},{key:"default",fn:function(e){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("Registrieren")]),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{counter:20,rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{type:t.showPassword?"text":"password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",rules:t.passwordRules,label:"Password",required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-text-field",{attrs:{type:t.showPasswordRepeat?"text":"password","append-icon":t.showPasswordRepeat?"mdi-eye":"mdi-eye-off",rules:t.passwordRepeatRules,label:"Password Wiederholen",required:""},on:{"click:append":function(e){t.showPasswordRepeat=!t.showPasswordRepeat}},model:{value:t.passwordRepeat,callback:function(e){t.passwordRepeat=e},expression:"passwordRepeat"}}),n("v-select",{attrs:{items:t.usertype,rules:[function(t){return!!t||"Usertyp muss ausgewählt werden"}],label:"Item",required:""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),n("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:function(e){return t.register()}}},[t._v(" Registrieren ")]),n("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" Reset")])],1)],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})},c=[],l={name:"ModalRegisterContent",data:function(){var t=this;return{valid:!0,name:"",nameRules:[function(t){return!!t||"Name ist nötig"},function(t){return t&&t.length<=20||"Name must be less than 10 characters"}],password:"",showPassword:!1,passwordRules:[function(t){return!!t||"Password ist nötig"},function(t){return t&&t.length>8||"Password muss mindestens 8 Zeichen lang sein"}],passwordRepeat:"",showPasswordRepeat:!1,passwordRepeatRules:[function(t){return!!t||"Password Wiederholung is nötig"},function(e){return e==t.password||"Passwords müssen übereinstimmen"}],select:null,usertype:[],show:!1}},mounted:function(){var t=this;fetch("".concat(o["a"].urls.backend.auth,"/useritems"),{method:"get",headers:Object(a["a"])({},o["a"].headers)}).then((function(e){200===e.status&&e.json().then((function(e){console.log(e),t.usertype=e,console.log(e)}))})).catch((function(t){console.log("error")}))},methods:{register:function(){var t=this;if(this.$refs.form.validate()){var e={};e.name=this.name,e.password=this.password,e.role=this.select,fetch("".concat(o["a"].urls.backend.auth,"/register"),{method:"post",headers:Object(a["a"])({},o["a"].headers),body:JSON.stringify(e)}).then((function(e){201===e.status?e.json().then((function(e){t.show=!1,console.log(e),t.$store.commit("toggleAlert",{alertType:"success",alertMessage:e.message,showAlert:!0})})):t.$store.commit("toggleAlert",{alertType:"info",alertMessage:"Rgistrierung is fehlgeschlagen",showAlert:!0})})).catch((function(e){t.$store.commit("toggleAlert",{alertType:"info",alertMessage:"Registrierung is fehlgeschlagen",showAlert:!0})}))}},reset:function(){this.$refs.form.resetValidation(),this.$refs.form.reset()}}},u=l,d=n("2877"),h=n("6544"),f=n.n(h),m=n("8336"),v=n("b0af"),p=n("99d9"),g=(n("7db0"),n("caad"),n("45fc"),n("a9e3"),n("2532"),n("498a"),n("2909")),w=n("ade3"),b=(n("368e"),n("480e")),y=n("4ad4"),x=n("b848"),k=n("75eb"),$=n("e707"),O=n("e4d3"),C=n("21be"),A=n("f2e7"),_=n("a293"),j=n("58df"),R=n("d9bd"),B=n("80d2"),V=Object(j["a"])(y["a"],x["a"],k["a"],$["a"],O["a"],C["a"],A["a"]),T=V.extend({name:"v-dialog",directives:{ClickOutside:_["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(w["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(w["a"])(t,"v-dialog--active",this.isActive),Object(w["a"])(t,"v-dialog--persistent",this.persistent),Object(w["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(w["a"])(t,"v-dialog--scrollable",this.scrollable),Object(w["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(R["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):$["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===B["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(g["a"])(n).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(b["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(a["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(a["a"])(Object(a["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(B["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(B["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}}),E=(n("4de4"),n("4160"),n("07ac"),n("159b"),n("7e2b")),P=n("3206"),S=Object(j["a"])(E["a"],Object(P["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},i={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(s){s&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=n(t)))})):i.valid=n(t),i},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}),I=n("b974"),F=n("8654"),M=n("71d9"),N=Object(d["a"])(u,r,c,!1,null,null,null),q=N.exports;f()(N,{VBtn:m["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["b"],VDialog:T,VForm:S,VSelect:I["a"],VTextField:F["a"],VToolbar:M["a"]});var z={name:"Login",components:{ModalRegisterContent:q},data:function(){return{lala:!0,name:"",nameRules:[function(t){return!!t||"Name ist nötig"}],password:"",show:!1,passwordRules:[function(t){return!!t||"Password ist nötig"}]}},computed:{user:function(){return this.$store.state.user}},methods:{login:function(){var t=this;if(console.log(this.alert),this.$refs.form.validate()){var e={};e.name=this.name,e.password=this.password,fetch("".concat(o["a"].urls.backend.auth,"/login"),{method:"post",headers:Object(a["a"])({},o["a"].headers),body:JSON.stringify(e)}).then((function(e){200===e.status?e.json().then((function(e){console.log(e),console.log(e.status),t.$store.commit("authenticateUser",Object(a["a"])({},e)),t.$router.push("/")})):t.$store.commit("toggleAlert",{alertType:"info",alertMessage:"Falsches Password oder Username",showAlert:!0})})).catch((function(e){t.$store.commit("toggleAlert",{alertType:"info",alertMessage:"Login fehlgeschlagen",showAlert:!0})}))}},clearInputField:function(){console.log(this.$refs.form)},reset:function(){this.$refs.form.resetValidation(),this.$refs.form.reset()}}},L=z,Z=(n("024e"),n("0798")),D=n("a523"),W=n("8dd9"),J=Object(d["a"])(L,i,s,!1,null,"866207aa",null);e["default"]=J.exports;f()(J,{VAlert:Z["a"],VBtn:m["a"],VContainer:D["a"],VForm:S,VSheet:W["a"],VTextField:F["a"]})},"368e":function(t,e,n){},d20f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-0af4bb96.25a3d748.js.map